<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>(advanced) Non-factorial within-subject designs in ``superb`` â€¢ superb</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="(advanced) Non-factorial within-subject designs in ``superb``">
<meta property="og:description" content="This vignette shows how to handle non-factorial designs using superb.
">
<meta property="og:image" content="http://dcousin3.github.io/superb/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">superb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.95.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Vignette1.html">Three steps to make your plot</a>
    </li>
    <li>
      <a href="../articles/Vignette2.html">Why use difference-adjusted confidence intervals?</a>
    </li>
    <li>
      <a href="../articles/Vignette3.html">Why use correlation-adjusted confidence intervals?</a>
    </li>
    <li>
      <a href="../articles/Vignette9.html">Plotting Cohen's d with ``superb``</a>
    </li>
    <li>
      <a href="../articles/VignetteC.html">Plotting proportions with ``superb``</a>
    </li>
    <li>
      <a href="../articles/VignetteF.html">Plotting frequencies using ``superb``</a>
    </li>
    <li>
      <a href="../articles/VignetteA.html">Plotting Reference Intervals with ``superb``</a>
    </li>
    <li>
      <a href="../articles/TheMakingOf.html">The making-of the figures in the article</a>
    </li>
    <li>
      <a href="../articles/CustomizingSuperbPlots.html">Customizing `superb` plots</a>
    </li>
    <li>
      <a href="../articles/VignetteE.html">Adding labels to ``superb`` plots</a>
    </li>
    <li>
      <a href="../articles/Vignette7.html">Unequal variances, Welch test, Tryon adjustment, and ``superb``</a>
    </li>
    <li>
      <a href="../articles/Vignette8.html">(advanced) Alternate ways to decorrelate repeated measures from transformations</a>
    </li>
    <li>
      <a href="../articles/VignetteB.html">(advanced) Non-factorial within-subject designs in ``superb``</a>
    </li>
    <li>
      <a href="../articles/Vignette4.html">Using a custom statistic with its error bar within ``superb``</a>
    </li>
    <li>
      <a href="../articles/Vignette5.html">Using a custom plot layout within ``superb``</a>
    </li>
    <li>
      <a href="../articles/VignetteD.html">``superb`` and SPSS</a>
    </li>
    <li>
      <a href="../articles/Vignette6.html">Generating ready-to-analyze datasets with GRD</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dcousin3/superb/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>(advanced) Non-factorial within-subject designs
in <code>superb</code>
</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dcousin3/superb/blob/HEAD/../vignettes/VignetteB.Rmd" class="external-link"><code>../vignettes/VignetteB.Rmd</code></a></small>
      <div class="hidden name"><code>VignetteB.Rmd</code></div>

    </div>

    
    
<p>In this vignette, we show how to display a dataset with a non-full
factorial within-subject design. A non-factorial design is when all the
levels of a first factor are not fully crossed with all the levels of a
second factor. For example, if you have a design <span class="math inline">\(A(4) \times B(4)\)</span>, you would expect in
total 16 levels in a full-factorial design. If there are fewer than 16
levels, it would mean that some combinations were not measured. This
could be because these conditions are uninteresting or impossible.</p>
<p>In a between group design, non full-factorial designs are not
problematic: the columns contains the level of the factors. If some
levels are missing, it just results in a shorter data file. All the
levels present are fully identifiable as the levels are in these
columns.</p>
<p>In within-subject design, this is a different matter: the columns
must be matched to a condition. If some columns are missing,
<code>superb</code> cannot guess which levels are present and which are
absent. It is therefore necessary to specify what levels the columns
represent.</p>
<div class="section level2">
<h2 id="an-example">An example<a class="anchor" aria-label="anchor" href="#an-example"></a>
</h2>
<p>Consider a case where participants are presented with strings of 1 to
4 letters for which a decision must be made, e.g., <em>Is this a real
word?</em>. The strings can be composed of a variable number of letters
between 1 and 4, but also, with a variable number of upper-case letters,
between 1 and 4. All the combinations of string length and uppercase are
presented within subjects.</p>
<p>This design cannot be a a full factorial design. Indeed, when 1
letter is presented, it is not possible that the number of upper-case
letter be 2, 3 or 4.</p>
<p>To handle that case, it is possible to specify a
<code>WSDesign</code> argument. By default, this argument is
<code>"fullfactorial"</code>. When not full factorial, a list is given
with, for each variables used as dependent variable, the levels of the
factors they correspond.</p>
<p>Consider this table with number of letters presented (from 1 to 4),
and number of upper-case letters (from 1 to all). The valid cases
are</p>
<table class="table">
<thead><tr class="header">
<th></th>
<th>Nletters</th>
<th>Nuppercase</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>var1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>var2</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td>var3</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="even">
<td>var4</td>
<td>4</td>
<td>1</td>
</tr>
<tr class="odd">
<td>var5</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="even">
<td>var6</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="odd">
<td>var7</td>
<td>4</td>
<td>2</td>
</tr>
<tr class="even">
<td>var8</td>
<td>3</td>
<td>3</td>
</tr>
<tr class="odd">
<td>var9</td>
<td>4</td>
<td>3</td>
</tr>
<tr class="even">
<td>var10</td>
<td>4</td>
<td>4</td>
</tr>
</tbody>
</table>
<p>There are 10 conditions (instead of the <span class="math inline">\(4
\times 4\)</span> if the design had been full factorial). The table
provide for each variables the levels of the two factors they correspond
to.</p>
</div>
<div class="section level2">
<h2 id="informing-superb-of-a-non-full-factorial-within-subject-design">Informing <code>superb</code> of a non-full factorial within-subject
design<a class="anchor" aria-label="anchor" href="#informing-superb-of-a-non-full-factorial-within-subject-design"></a>
</h2>
<p>In <code><a href="../reference/superbPlot.html">superbPlot()</a></code> or <code><a href="../reference/superbData.html">superbData()</a></code>, we
indicate non full factorial design with:</p>
<pre><code>WSFactors = c("Nletters","Nuppercase"),
variables = c("var1","var2","var3","var4","var5","var6",
                "var7","var8","var9","var10"),
WSDesign  = list(c(1,1), c(2,1), c(3,1), c(4,1), c(2,2), c(3,2),
                 c(4,2), c(3,3), c(4,3), c(4,4)),</code></pre>
</div>
<div class="section level2">
<h2 id="returning-to-the-example">Returning to the example<a class="anchor" aria-label="anchor" href="#returning-to-the-example"></a>
</h2>
<p>letâ€™s try this with a random data set. It will simulate response
times for participants to response <strong>Word</strong> or **Non-word*
to the presented strings. As <code><a href="../reference/GRD.html">GRD()</a></code> can only generate full
factorial design, we will delete some columns aftewards.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fulldta</span> <span class="op">&lt;-</span> <span class="va">dta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GRD.html">GRD</a></span><span class="op">(</span> </span>
<span>                WSFactors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Nletters(4)"</span>,<span class="st">"Nuppercase(4)"</span><span class="op">)</span>,</span>
<span>                Effects <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Nletters"</span> <span class="op">=</span> <span class="fu"><a href="../reference/slope.html">slope</a></span><span class="op">(</span><span class="fl">25</span><span class="op">)</span>,</span>
<span>                               <span class="st">"Nuppercase"</span> <span class="op">=</span> <span class="fu"><a href="../reference/slope.html">slope</a></span><span class="op">(</span><span class="op">-</span><span class="fl">25</span><span class="op">)</span> <span class="op">)</span>,</span>
<span>                Population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">400</span>, stddev <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This dataset simulate an effect of the number of letters (increasing
response times by 25 ms for each additional letter) and of the number of
uppercase letters (decreasing response times by 25 ms for each
additional uppercase letter).</p>
<p>The full data can be plotted withou any difficulty with
<code><a href="../reference/superbPlot.html">superbPlot()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/superbPlot.html">superbPlot</a></span><span class="op">(</span><span class="va">Fulldta</span>,</span>
<span>    WSFactors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Nletters(4)"</span>,<span class="st">"Nuppercase(4)"</span><span class="op">)</span>,</span>
<span>    variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DV.1.1"</span>,<span class="st">"DV.2.1"</span>,<span class="st">"DV.3.1"</span>,<span class="st">"DV.4.1"</span>,</span>
<span>                  <span class="st">"DV.1.2"</span>,<span class="st">"DV.2.2"</span>,<span class="st">"DV.3.2"</span>,<span class="st">"DV.4.2"</span>,</span>
<span>                  <span class="st">"DV.1.3"</span>,<span class="st">"DV.2.3"</span>,<span class="st">"DV.3.3"</span>,<span class="st">"DV.4.3"</span>,</span>
<span>                  <span class="st">"DV.1.4"</span>,<span class="st">"DV.2.4"</span>,<span class="st">"DV.3.4"</span>,<span class="st">"DV.4.4"</span><span class="op">)</span>,</span>
<span>    plotStyle<span class="op">=</span><span class="st">"line"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="VignetteB_files/figure-html/unnamed-chunk-3-1.png" alt="**Figure 1**. Mean response times to say **Word** or **Non-word**." width="384"><p class="caption">
<strong>Figure 1</strong>. Mean response times to say
<strong>Word</strong> or <strong>Non-word</strong>.
</p>
</div>
<p>To simulate a more realistic dataset, we must remove the impossible
conditions:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># destroying the six impossible columns</span></span>
<span><span class="va">dta</span><span class="op">$</span><span class="va">DV.1.2</span> <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># e.g., the condition showing one letter with 2 upper-cases.</span></span>
<span><span class="va">dta</span><span class="op">$</span><span class="va">DV.1.3</span> <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="va">dta</span><span class="op">$</span><span class="va">DV.1.4</span> <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="va">dta</span><span class="op">$</span><span class="va">DV.2.3</span> <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="va">dta</span><span class="op">$</span><span class="va">DV.2.4</span> <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="va">dta</span><span class="op">$</span><span class="va">DV.3.4</span> <span class="op">=</span> <span class="cn">NULL</span></span></code></pre></div>
<p>after which the plot can be performed:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/superbPlot.html">superbPlot</a></span><span class="op">(</span><span class="va">dta</span>,</span>
<span>    WSFactors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Nletters(4)"</span>,<span class="st">"Nuppercase(4)"</span><span class="op">)</span>,</span>
<span>    variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DV.1.1"</span>,<span class="st">"DV.2.1"</span>,<span class="st">"DV.3.1"</span>,<span class="st">"DV.4.1"</span>,<span class="st">"DV.2.2"</span>,<span class="st">"DV.3.2"</span>,</span>
<span>                  <span class="st">"DV.4.2"</span>,<span class="st">"DV.3.3"</span>,<span class="st">"DV.4.3"</span>,<span class="st">"DV.4.4"</span><span class="op">)</span>,</span>
<span>    WSDesign  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">1</span><span class="op">)</span>,  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">1</span><span class="op">)</span>,  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span>,  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span>,  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    plotStyle<span class="op">=</span><span class="st">"line"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="VignetteB_files/figure-html/unnamed-chunk-5-1.png" alt="**Figure 2**. Mean response times to say **Word** or **Non-word**." width="384"><p class="caption">
<strong>Figure 2</strong>. Mean response times to say
<strong>Word</strong> or <strong>Non-word</strong>.
</p>
</div>
<p>Really, the only new manipulation is the use of <code>WSDesign</code>
where for each within-subject variable in the dataset, the levels of the
corresponding factors (in the order they were given in
<code>WSFactors</code>) are listed.</p>
<p>(note that the WSDesign levels superseeds the total number of levels,
<em>4</em>, given in the <code>WSFactors</code>. Hence,
<code>Nletters</code> could be given as <code>Nletters(99)</code> or as
<code>Nletters(1)</code>, that has no longer any impact on the
plot.)</p>
</div>
<div class="section level2">
<h2 id="in-summary">In summary<a class="anchor" aria-label="anchor" href="#in-summary"></a>
</h2>
<p>Full-factorial design are generally prefered as powerfull analyses
can manipulate such data (for example, the ANOVA). Further, causality in
experimental designs are more aptly assessed with the full-factorial
design. However, it is not always possible or usefull to run a
full-factorial design.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Denis Cousineau.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
